{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "model": "claude-sonnet-4-5-20250929",
  "subagentModels": {
    "cloudflare-specialist": "claude-sonnet-4-5-20250929",
    "code-review-grok": "grok-4",
    "code-architecture-reviewer": "grok-4",
    "refactor-planner": "claude-opus-4-1-20250805",
    "Plan": "claude-opus-4-1-20250805",
    "Explore": "claude-haiku-4-5-20251001"
  },
  "env": {
    "MAX_MCP_OUTPUT_TOKENS": "50000",
    "CLAUDE_CODE_SUBAGENT_PARALLEL": "true"
  },
  "hooks": {
    "PostToolUse": {
      "Write": "if [[ \"$FILE_PATH\" == *\"worker.js\"* ]] || [[ \"$FILE_PATH\" == *\"durable-object.js\"* ]]; then echo 'Cloudflare Workers file modified - consider running wrangler dev for testing'; fi",
      "Edit": "if [[ \"$FILE_PATH\" == *.sql ]]; then echo 'D1 schema modified - verify migration with wrangler d1 migrations list'; fi"
    },
    "SubagentStart": {
      "Bash": "echo 'ðŸ¤– Subagent $SUBAGENT_NAME starting with model $MODEL'"
    },
    "SubagentStop": {
      "Bash": "echo 'âœ… Subagent $SUBAGENT_NAME completed. Review findings and integrate results.'"
    }
  },
  "permissions": {
    "rules": [
      {
        "type": "allow",
        "tools": ["SlashCommand"],
        "comment": "Allow slash commands (/build, /test, /sim, /device-deploy)"
      },
      {
        "type": "allow",
        "tools": ["Bash"],
        "patterns": ["git status", "git diff", "git log"],
        "comment": "Allow safe git read operations"
      },
      {
        "type": "allow",
        "tools": ["Read", "Glob", "Grep", "Edit", "Write"],
        "comment": "Allow file reading, searching, and editing"
      },
      {
        "type": "allow",
        "tools": ["mcp__zen__*"],
        "comment": "Allow all Zen MCP tools (debug, codereview, secaudit, etc.)"
      },
      {
        "type": "ask",
        "tools": ["Bash"],
        "patterns": ["git add", "git commit", "git push"],
        "comment": "Require approval for git write operations"
      },
      {
        "type": "ask",
        "tools": ["Bash"],
        "patterns": ["rm ", "mv ", "cp "],
        "comment": "Require approval for destructive file operations"
      },
      {
        "type": "deny",
        "tools": ["Bash"],
        "patterns": ["rm -rf /", "sudo rm", "git push --force"],
        "comment": "Block dangerous operations"
      }
    ]
  },
  "ignorePatterns": [
    "**/.git/**",
    "**/node_modules/**",
    "**/DerivedData/**",
    "**/.build/**",
    "**/*.xcworkspace/xcuserdata/**",
    "**/*.xcodeproj/xcuserdata/**",
    "**/*.xcodeproj/project.xcworkspace/xcuserdata/**"
  ],
  "compactMode": {
    "enabled": true,
    "threshold": 0.8
  },
  "spinnerTipsEnabled": true,
  "verbose": false
}