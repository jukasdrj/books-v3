{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "model": "claude-sonnet-4-5-20250929",
  "customInstructions": "CRITICAL: Safe Testing Policy - ALWAYS use /quick-validate instead of /build. NEVER use /sim (use /sim-safe or /device-deploy). When user requests testing, default to safe validation workflow (see CLAUDE.md Safe Testing section).",
  "subagentModels": {
    "cloudflare-specialist": "claude-sonnet-4-5-20250929",
    "code-review-grok": "grok-code-fast-1",
    "code-architecture-reviewer": "grok-code-fast-1",
    "refactor-planner": "claude-opus-4-20250514",
    "Plan": "claude-opus-4-20250514",
    "Explore": "claude-haiku-4-20250514"
  },
  "env": {
    "MAX_MCP_OUTPUT_TOKENS": "50000",
    "CLAUDE_CODE_SUBAGENT_PARALLEL": "true"
  },
  "permissions": {
    "rules": [
      {
        "type": "allow",
        "tools": ["SlashCommand"],
        "comment": "Allow slash commands (/build, /test, /sim, /device-deploy)"
      },
      {
        "type": "allow",
        "tools": ["Bash"],
        "patterns": ["git status", "git diff", "git log"],
        "comment": "Allow safe git read operations"
      },
      {
        "type": "allow",
        "tools": ["Read", "Glob", "Grep", "Edit", "Write"],
        "comment": "Allow file reading, searching, and editing"
      },
      {
        "type": "allow",
        "tools": [
          "mcp__zen__chat",
          "mcp__zen__thinkdeep",
          "mcp__zen__planner",
          "mcp__zen__consensus",
          "mcp__zen__codereview",
          "mcp__zen__debug",
          "mcp__zen__secaudit",
          "mcp__zen__challenge",
          "mcp__zen__apilookup",
          "mcp__zen__listmodels",
          "mcp__zen__version"
        ],
        "comment": "Allow all Zen MCP tools"
      },
      {
        "type": "ask",
        "tools": ["Bash"],
        "patterns": ["git add", "git commit", "git push"],
        "comment": "Require approval for git write operations"
      },
      {
        "type": "ask",
        "tools": ["Bash"],
        "patterns": ["rm ", "mv ", "cp "],
        "comment": "Require approval for destructive file operations"
      },
      {
        "type": "deny",
        "tools": ["Bash"],
        "patterns": ["rm -rf /", "sudo rm", "git push --force"],
        "comment": "Block dangerous operations"
      }
    ]
  },
  "ignorePatterns": [
    "**/.git/**",
    "**/node_modules/**",
    "**/DerivedData/**",
    "**/.build/**",
    "**/*.xcworkspace/xcuserdata/**",
    "**/*.xcodeproj/xcuserdata/**",
    "**/*.xcodeproj/project.xcworkspace/xcuserdata/**"
  ],
  "compactMode": {
    "enabled": true,
    "threshold": 0.8
  },
  "spinnerTipsEnabled": true,
  "verbose": false
}